{"ast":null,"code":"import prisma from 'prisma/client';\nexport default (async (req, res) => {\n  switch (req.method) {\n    case 'GET':\n      const appointments = await prisma.appointment.findMany();\n      res.status(200).json(appointments);\n      break;\n\n    case 'POST':\n      const {\n        patientId,\n        practitionerId,\n        startDate,\n        endDate\n      } = JSON.parse(req.body);\n      const appointment = await prisma.appointment.create({\n        data: {\n          patientId: parseInt(patientId),\n          practitionerId: parseInt(practitionerId),\n          startDate: startDate,\n          endDate: endDate\n        }\n      });\n      res.status(200).json(appointment);\n      break;\n\n    case 'DELETE':\n      const {\n        id\n      } = JSON.parse(req.body);\n      await prisma.appointment.delete({\n        where: {\n          id\n        }\n      });\n      res.status(200).send('ok');\n      break;\n  }\n});","map":null,"metadata":{},"sourceType":"module"}