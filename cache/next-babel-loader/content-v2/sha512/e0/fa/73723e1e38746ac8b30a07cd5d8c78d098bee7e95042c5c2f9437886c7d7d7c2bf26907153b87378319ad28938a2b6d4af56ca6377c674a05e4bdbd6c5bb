{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Link } from '@material-ui/core';\nimport EditorLink from 'components/EditorLink';\nimport TimeSlots from 'components/TimeSlots';\nimport Section from 'components/Section';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTimeSlots, timeslotsSelectors } from 'store/timeslots';\n\nconst TimeSlotPage = () => {\n  const dispatch = useDispatch();\n  const timeslots = useSelector(state => timeslotsSelectors.selectAll(state.timeslots));\n  useEffect(() => {\n    dispatch(getTimeSlots());\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      datacy: \"intro\",\n      children: [/*#__PURE__*/_jsxs(\"header\", {\n        children: [/*#__PURE__*/_jsx(\"h1\", {\n          children: \"Welcome to the timeslot page\"\n        }), /*#__PURE__*/_jsx(\"h2\", {\n          children: \"A basic example of how we make Next.js and Redux work together\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"article\", {\n        children: [/*#__PURE__*/_jsx(\"h3\", {\n          children: \"File structure\"\n        }), /*#__PURE__*/_jsxs(\"section\", {\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Next.js\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(Link, {\n              href: \"https://nextjs.org/\",\n              target: \"_blank\",\n              children: \"Next.js\"\n            }), ' ', \"is a\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"https://reactjs.org/\",\n              target: \"_blank\",\n              children: \"React\"\n            }), ' ', \"framework that allows to create both server side and statically generated websites.\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"Pages are defined in the \\\"src/pages\\\" folder. Next.js handles all the route definitions. For instance you can take a look at \\\"/timeslots\\\" page:\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/pages/timeslots.tsx\",\n              children: \"\\\"src/pages/timeslots.tsx\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"All the components (except for pages components) are defined in the \\\"src/components\\\" folder. For instance you can take a look at \\\"TimeSlots.tsx\\\" component:\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/components/TimeSlots.tsx\",\n              children: \"\\\"src/components/TimeSlots.tsx\\\"\"\n            }), \".\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"section\", {\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Backend\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"Our database is managed by Prisma which dynamically generates an embeded SQLite database, migrations and typings according to schema defined in\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"prisma/schema.prisma\",\n              children: \"\\\"prisma/schema.prisma\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"The endpoints are directly handled by Next.js and are defined in the \\\"src/pages/api\\\" directory. For instance you can take a look at \\\"/timeslots\\\" endpoint:\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/pages/api/timeslots.ts\",\n              children: \"\\\"src/pages/api/timeslots.ts\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"To restore the database, run \\\"yarn seed-db\\\" which is defined in\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"package.json:13:54\",\n              children: \"\\\"package.json\\\"\"\n            }), \".\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"section\", {\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Redux store\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"You can find everything related to the Redux store in the \\\"src/store\\\" directory.\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"The store itself is exported from\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/store/index.ts\",\n              children: \"\\\"src/store/index.ts\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"We used\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"https://redux-toolkit.js.org/\",\n              target: \"_blank\",\n              children: \"@reduxjs/toolkit\"\n            }), ' ', \"to spare some boilerplate code in the example \\\"timeslot\\\" slice (see\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/store/timeslots.ts\",\n              children: \"\\\"src/store/timeslots.ts\\\"\"\n            }), ' ', \"for implementation). The library generates extensible reducers, actions, and selectors. Asynchronous side effects are handled by the\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"https://github.com/reduxjs/redux-thunk\",\n              target: \"_blank\",\n              children: \"redux thunk middleware\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"In order to add a new reducer to your root reducer, add it to\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"src/store/reducers.ts:4:32\",\n              children: \"\\\"src/store/reducers.ts\\\"\"\n            }), \".\"]\n          })]\n        }), /*#__PURE__*/_jsxs(\"section\", {\n          children: [/*#__PURE__*/_jsx(\"h4\", {\n            children: \"Tests\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"The end to end tests are implemented with\", ' ', /*#__PURE__*/_jsx(Link, {\n              href: \"https://www.cypress.io/\",\n              target: \"_blank\",\n              children: \"Cypress\"\n            }), ' ', \"and are defined in the \\\"cypress/integration\\\" directory. For instance you can take a look at the tests of the \\\"/timeslots\\\" page:\", ' ', /*#__PURE__*/_jsx(EditorLink, {\n              path: \"cypress/integration/timeslots.spec.ts\",\n              children: \"\\\"cypress/integration/timeslots.spec.ts\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [\"We added a custom cypress command named \\\"pick\\\". It queries one or several elements that have the attribute \\\"datacy\\\" matching the argument passed to the command. \", /*#__PURE__*/_jsx(\"br\", {}), \"Ex: cy.pick('timeslot-list') returns all elements which datacy attribute is equal to \\\"timeslot-list\\\". \", /*#__PURE__*/_jsx(\"br\", {}), \"The \\\"pick\\\" command is defined in\", /*#__PURE__*/_jsx(EditorLink, {\n              path: \"cypress/support/commands.ts\",\n              children: \"\\\"cypress/support/commands.ts\\\"\"\n            }), \".\"]\n          }), /*#__PURE__*/_jsx(\"p\", {\n            children: \"To execute the tests: run \\\"yarn dev\\\" to launch the app and in parallel in an other terminal tab run \\\"yarn test\\\" to launch Cypress.\"\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(Section, {\n      name: \"timeslots\",\n      title: \"TimeSlot List\",\n      className: \"timeSlot__list\",\n      children: /*#__PURE__*/_jsx(TimeSlots, {\n        items: timeslots\n      })\n    })]\n  });\n};\n\nTimeSlotPage.pageTitle = 'Time slots';\nTimeSlotPage.pageSubtitle = 'A simple example';\nexport default TimeSlotPage;","map":null,"metadata":{},"sourceType":"module"}