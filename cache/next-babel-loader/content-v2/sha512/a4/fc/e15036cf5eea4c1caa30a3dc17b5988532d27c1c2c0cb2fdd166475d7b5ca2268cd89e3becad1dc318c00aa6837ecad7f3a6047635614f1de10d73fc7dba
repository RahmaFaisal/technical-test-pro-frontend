{"ast":null,"code":"import _defineProperty from \"/home/rahma/Documents/rahma/technical-test-pro-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/rahma/Documents/rahma/technical-test-pro-frontend/src/components/TaskList.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { Checkbox, Accordion, AccordionSummary, AccordionDetails } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\n\nvar TaskList = function TaskList(props) {\n  _s();\n\n  var tasks = props.tasks,\n      name = props.name,\n      title = props.title,\n      onChange = props.onChange,\n      onComplete = props.onComplete,\n      _props$expected = props.expected,\n      expected = _props$expected === void 0 ? props.tasks.length : _props$expected;\n\n  var _useState = useState({}),\n      localForm = _useState[0],\n      setLocalForm = _useState[1];\n\n  useEffect(function () {\n    var existingLocalForm = localStorage.getItem(name);\n\n    if (existingLocalForm) {\n      setLocalForm(JSON.parse(existingLocalForm));\n    } else {\n      localStorage.setItem(name, JSON.stringify({}));\n    }\n  }, []);\n  useEffect(function () {\n    localStorage.setItem(name, JSON.stringify(localForm));\n    onChange === null || onChange === void 0 ? void 0 : onChange();\n  }, [localForm]);\n  var numberOfAchievedTasks = useMemo(function () {\n    return Object.keys(localForm).filter(function (goal) {\n      return localForm[goal] === true;\n    }).length;\n  }, [localForm]);\n  var isAchievedAllTasks = useMemo(function () {\n    return numberOfAchievedTasks >= expected;\n  }, [numberOfAchievedTasks, expected]);\n  useEffect(function () {\n    onComplete === null || onComplete === void 0 ? void 0 : onComplete(isAchievedAllTasks);\n  }, [isAchievedAllTasks]);\n  return /*#__PURE__*/_jsxDEV(Accordion, {\n    datacy: name,\n    children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n      expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }, _this),\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [title, ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [numberOfAchievedTasks, \"/\", expected]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, _this), ' ', isAchievedAllTasks && /*#__PURE__*/_jsxDEV(DoneAllIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 34\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: tasks.map(function (instruction, i) {\n          var htmlFor = \"\".concat(name, \"-\").concat(i);\n          var currentValue = !!(localForm !== null && localForm !== void 0 && localForm[htmlFor]);\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n              id: htmlFor,\n              name: htmlFor,\n              checked: currentValue,\n              onChange: function onChange() {\n                setLocalForm(function (prevState) {\n                  return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, htmlFor, !currentValue));\n                });\n              },\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: htmlFor,\n              children: instruction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, _this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TaskList, \"uAR+Fh4Q6d3Gw1M5yDMxsyhXGj0=\");\n\n_c = TaskList;\nexport default TaskList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskList\");","map":{"version":3,"sources":["/home/rahma/Documents/rahma/technical-test-pro-frontend/src/components/TaskList.tsx"],"names":["useEffect","useState","useMemo","Checkbox","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","DoneAllIcon","TaskList","props","tasks","name","title","onChange","onComplete","expected","length","localForm","setLocalForm","existingLocalForm","localStorage","getItem","JSON","parse","setItem","stringify","numberOfAchievedTasks","Object","keys","filter","goal","isAchievedAllTasks","map","instruction","i","htmlFor","currentValue","prevState"],"mappings":"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","sourcesContent":["import { useEffect, useState, useMemo } from 'react';\nimport {\n  Checkbox,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport DoneAllIcon from '@material-ui/icons/DoneAll';\n\ntype Props = {\n  tasks: string[];\n  name: string;\n  title: string;\n  expected?: number;\n  onChange?: () => void;\n  onComplete?: (value: boolean) => void;\n};\n\nconst TaskList = (props: Props) => {\n  const {\n    tasks,\n    name,\n    title,\n    onChange,\n    onComplete,\n    expected = props.tasks.length,\n  } = props;\n  const [localForm, setLocalForm] = useState({});\n\n  useEffect(() => {\n    const existingLocalForm = localStorage.getItem(name);\n    if (existingLocalForm) {\n      setLocalForm(JSON.parse(existingLocalForm));\n    } else {\n      localStorage.setItem(name, JSON.stringify({}));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(name, JSON.stringify(localForm));\n    onChange?.();\n  }, [localForm]);\n\n  const numberOfAchievedTasks = useMemo(() => {\n    return Object.keys(localForm).filter((goal) => localForm[goal] === true)\n      .length;\n  }, [localForm]);\n\n  const isAchievedAllTasks = useMemo(() => numberOfAchievedTasks >= expected, [\n    numberOfAchievedTasks,\n    expected,\n  ]);\n\n  useEffect(() => {\n    onComplete?.(isAchievedAllTasks);\n  }, [isAchievedAllTasks]);\n\n  return (\n    <Accordion datacy={name}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <h3>\n          {title}{' '}\n          <span>\n            {numberOfAchievedTasks}/{expected}\n          </span>{' '}\n          {isAchievedAllTasks && <DoneAllIcon />}\n        </h3>\n      </AccordionSummary>\n      <AccordionDetails>\n        <ul>\n          {tasks.map((instruction, i) => {\n            const htmlFor = `${name}-${i}`;\n            const currentValue = !!localForm?.[htmlFor];\n            return (\n              <li key={i}>\n                <Checkbox\n                  id={htmlFor}\n                  name={htmlFor}\n                  checked={currentValue}\n                  onChange={() => {\n                    setLocalForm((prevState) => ({\n                      ...prevState,\n                      [htmlFor]: !currentValue,\n                    }));\n                  }}\n                  color=\"primary\"\n                />\n                <label htmlFor={htmlFor}>{instruction}</label>\n              </li>\n            );\n          })}\n        </ul>\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nexport default TaskList;\n"]},"metadata":{},"sourceType":"module"}